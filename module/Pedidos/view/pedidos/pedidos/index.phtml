<?php

declare(strict_types=1);

use Laminas\Form\Form;
use Laminas\View\Renderer\PhpRenderer;
use Pedidos\Constantes\ConstantesPedidos;
use Pedidos\Model\Pedidos;

/**
 * @var PhpRenderer $this
 * @var Form|null $form
 * @var Pedidos|null $pedido
 * @var array<string, mixed> $pedidos
 * @var string|null $searchTerm
 * @var string $action
 * @var int|null $id
 */

if ($this->action === 'edit') {
    echo $this->formEditPedidos(
        $this->form,
        'Editar Pedido',
        ConstantesPedidos::ROUTE,
        $this->id_pedido
    );
} elseif ($this->action === 'add') {
    echo $this->formAddPedidos(
        $this->form,
        'Adicionar Pedido',
        ConstantesPedidos::ROUTE
    );
} elseif ($this->action === 'delete') {
    echo $this->formDeletePedidos(
        'Excluir Pedido',
        ConstantesPedidos::ROUTE,
        $this->pedido->getId(),
        $this->nomeCliente
    );
} else {
    $pedidos = $this->pedidos;
    $searchTerm = $this->searchTerm;

    $this->headTitle('Pedidos');

    echo '<h1 class="mb-4">Pedidos</h1>';

    echo $this->barraPesquisa($this->pesquisaForm);

    echo $this->tabelaPedidos($this->filters);

    echo $this->mensagensAlert($pedidos, $searchTerm);
}
